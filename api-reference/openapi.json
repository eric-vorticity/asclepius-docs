{"openapi":"3.1.0","servers": [{"url": "https://98i2es6mi4.execute-api.us-west-2.amazonaws.com/dev", "description": "Dev"}],"security": [{ "ApiKeyAuth": [] }],"info":{"title":"Asclepius: API","description":"Internal REST API for the Asclepius Molecular Dynamics Engine","termsOfService":"http://example.com/terms/","contact":{"name":"Support Team","url":"https://www.vorticity.xyz/","email":"hello@vorticity.xyz"},"license":{"name":"MIT License","url":"https://opensource.org/licenses/MIT"},"version":"0.1.0"},"paths":{"/stripe/prices":{"get":{"summary":"Get Prices","operationId":"get_prices_stripe_prices_get","parameters":[],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/stripe/paymentmethods/":{"get":{"summary":"Get Paymentmethods","operationId":"get_paymentmethods_stripe_paymentmethods__get","parameters":[],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/stripe/balance/":{"get":{"summary":"Get Balance","operationId":"get_balance_stripe_balance__get","parameters":[],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/stripe/address/":{"get":{"summary":"Get Address","operationId":"get_address_stripe_address__get","parameters":[],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submit/file":{"post":{"summary":"Submit File","operationId":"submit_file_submit_file_post","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/FileCreateParams"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submit/upload-url":{"get":{"summary":"Create Presigned Upload","operationId":"create_presigned_upload_submit_upload_url_get","parameters":[{"name":"filetype","in":"query","required":true,"schema":{"enum":["pdb","sdf","xml"],"type":"string","description":"Allowed: pdb, sdf, xml","title":"Filetype"},"description":"Allowed: pdb, sdf, xml"},],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submit/system":{"post":{"summary":"Submit System","operationId":"submit_system_submit_system_post","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BoxCreateParams"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submit/job":{"post":{"summary":"Submit Job","operationId":"submit_job_submit_job_post","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/JobCreateParams"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/submit/analysis":{"post":{"summary":"Submit Analysis","operationId":"submit_analysis_submit_analysis_post","parameters":[],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/AnalysisCreateParams"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/retrieve/job/{job_id}":{"get":{"summary":"Retrieve Job","operationId":"retrieve_job_retrieve_job__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/retrieve/analysis/{job_id}":{"get":{"summary":"Retrieve Analysis","operationId":"retrieve_analysis_retrieve_analysis__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/info/files":{"get":{"summary":"Get All Files","operationId":"get_all_files_info_files_get","parameters":[],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/info/systems":{"get":{"summary":"Get All Systems","operationId":"get_all_systems_info_systems_get","parameters":[],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/info/system/{system_id}":{"get":{"summary":"Get Job","operationId":"get_job_info_system__system_id__get","parameters":[{"name":"system","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"System"}},],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/info/jobs":{"get":{"summary":"Get All Jobs","operationId":"get_all_jobs_info_jobs_get","parameters":[],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/info/job/{job_id}":{"get":{"summary":"Get Job","operationId":"get_job_info_job__job_id__get","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Job Id"}},],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/info/analysis/{analysis_id}":{"get":{"summary":"Get Job","operationId":"get_job_info_analysis__analysis_id__get","parameters":[{"name":"analysis_id","in":"path","required":true,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Analysis Id"}},],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/stop/build/{box_id}":{"post":{"summary":"Stop Build","description":"Stop a box from being built.","operationId":"stop_build_stop_build__box_id__post","parameters":[{"name":"box_id","in":"path","required":true,"schema":{"type":"string","title":"Box Id"}},],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/stop/job/{job_id}":{"post":{"summary":"Stop Job","description":"Kill a simulation job by deleting it from Kubernetes.","operationId":"stop_job_stop_job__job_id__post","parameters":[{"name":"job_id","in":"path","required":true,"schema":{"type":"string","title":"Job Id"}},],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/stop/analysis/{analysis_id}":{"post":{"summary":"Stop Analysis","description":"Kill an analysis job by deleting it from Kubernetes.","operationId":"stop_analysis_stop_analysis__analysis_id__post","parameters":[{"name":"analysis_id","in":"path","required":true,"schema":{"type":"string","title":"Analysis Id"}},],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"securitySchemes": {"ApiKeyAuth": {"type": "apiKey","in": "header","name": "x-api-key"}},"schemas":{"AnalysisCreateParams":{"properties":{"downsample_frames":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Downsample Frames","description":"Interval for frame downsampling; e.g., 10 means keep every 10th frame"},"distance_masks":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Distance Masks","description":"List of atom selection masks for distance calculations"},"rmsd_masks":{"anyOf":[{"items":{"items":{"type":"string"},"type":"array"},"type":"array"},{"type":"null"}],"title":"Rmsd Masks","description":"List of pairs of atom selection masks for RMSD calculation"},"rmsf_masks":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Rmsf Masks","description":"List of atom selection masks for RMSF calculation"},"hbond_angle":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Hbond Angle","description":"Hydrogen bond angle cutoff in degrees"},"hbond_distance":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Hbond Distance","description":"Hydrogen bond distance cutoff in Angstroms"}},"type":"object","title":"AnalysisCreateParams"},"BoxCreateParams":{"properties":{"box_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Box Name","description":"Human-friendly name for the simulation box"},"box_shape":{"anyOf":[{"$ref":"#/components/schemas/BoxShapes"},{"type":"null"}],"description":"Shape of the simulation box, e.g., 'cube', 'octahedron', or 'dodecahedron'"},"chain_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chain Id","description":"Protein chain identifier (e.g., 'A')"},"concentration":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Concentration","description":"Ion concentration (in mol/L) to achieve during system solvation"},"force_field":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Force Field","description":"Force field to apply during box preparation"},"ions":{"anyOf":[{"$ref":"#/components/schemas/SolventIons"},{"type":"null"}],"description":"Type of solvent ions"},"keep_Hs":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Keep Hs","description":"Whether to preserve existing hydrogens in the input structure"},"ligand_input_formats":{"anyOf":[{"items":{"type":"string","enum":["pdb","sdf"]},"type":"array"},{"type":"null"}],"title":"Ligand Input Formats","description":"List of input file formats corresponding to provided ligands, e.g., ['mol2', 'pdb', 'sdf']"},"ligand_residue_names":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Ligand Residue Names","description":"Residue names assigned to each ligand in the topology (e.g., ['LIG', 'DRG'])"},"ligand_rotations":{"anyOf":[{"items":{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":3,"minItems":3},"type":"array"},{"type":"null"}],"title":"Ligand Rotations","description":"List of (x, y, z) rotation angles in degrees to apply to each ligand"},"ligand_translations":{"anyOf":[{"items":{"prefixItems":[{"type":"number"},{"type":"number"},{"type":"number"}],"type":"array","maxItems":3,"minItems":3},"type":"array"},{"type":"null"}],"title":"Ligand Translations","description":"List of (x, y, z) translation offsets in Angstroms to apply to each ligand"},"ligands":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Ligands","description":"List of file IDs to be included in the system"},"membrane":{"anyOf":[{"$ref":"#/components/schemas/MembraneModels"},{"type":"null"}],"description":"Membrane model if creating a membrane-embedded system"},"minimum_padding":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Minimum Padding","description":"Minimum distance (in Å) to the edge of the simulation box"},"pH":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Ph","description":"Target pH value"},"protein":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Protein","description":"File ID of the protein structure to place in the system"},"water_type":{"anyOf":[{"type":"string","enum":["TIP3P","SPC/E","OPC3"]},{"type":"null"}],"title":"Water Type","description":"The water model to use, e.g., 'TIP3P'"}},"type":"object","title":"BoxCreateParams"},"BoxShapes":{"type":"string","enum":["cube","octahedron","dodecahedron"],"title":"BoxShapes"},"Ensembles":{"type":"string","enum":["NPT","NVT"],"title":"Ensembles"},"EquilibrationStep":{"properties":{"traj_freq":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Traj Freq","description":"Trajectory write frequency (steps)"},"time":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Time","description":"Simulation time (ns) for this step"},"log_freq":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Log Freq","description":"Log write frequency (steps)"},"type":{"anyOf":[{"$ref":"#/components/schemas/Ensembles"},{"type":"null"}],"description":"Ensemble type, e.g., 'NVT' or 'NPT'"},"restraint_force":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Restraint Force","description":"Restraint force (kJ/mol·nm²)"},"restraint_mask":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Restraint Mask","description":"Atom selection mask for restraints"}},"type":"object","title":"EquilibrationStep"},"FileCreateParams":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Human-friendly name for the new file"},"type":{"anyOf":[{"type":"string","enum":["protein","ligand","forcefield"]},{"type":"null"}],"title":"Type","description":"Type of file"},"format":{"anyOf":[{"type":"string","enum":["pdb","sdf","xml"]},{"type":"null"}],"title":"Format","description":"File format (e.g., 'pdb', 'sdf', 'xml')"},"file_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"File Id","description":"File id of a previously uploaded file"},"pdb_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pdb Id","description":"RCSB PDB identifier like '1BNA'"}},"type":"object","title":"FileCreateParams"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"JobCreateParams":{"properties":{"box_id":{"type":"string","minLength":1,"title":"Box Id","description":"Associated system/box id"},"batch_index":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Batch Index","description":"Index of this job in the batch"},"batch_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Batch Name","description":"Human-friendly batch name"},"equilibration":{"anyOf":[{"items":{"$ref":"#/components/schemas/EquilibrationStep"},"type":"array"},{"type":"null"}],"title":"Equilibration","description":"Equilibration stages to run before production"},"production":{"anyOf":[{"$ref":"#/components/schemas/ProductionParams"},{"type":"null"}],"description":"Production simulation parameters"},"temperature":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Temperature","description":"Temperature (K)"},"pressure":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Pressure","description":"Pressure (bar)"},"surface_tension":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Surface Tension","description":"Surface tension (bar·nm)"},"friction":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Friction","description":"Friction coefficient (ps⁻¹)"},"integration_timestep":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Integration Timestep","description":"Time step (fs)"},"ewald_error_tolerance":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Ewald Error Tolerance","description":"PME/Ewald error tolerance"},"non_bonded_cutoff":{"anyOf":[{"type":"number","exclusiveMinimum":0.0},{"type":"null"}],"title":"Non Bonded Cutoff","description":"Non-bonded cutoff (nm)"},"minimization_steps":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Minimization Steps","description":"Energy minimization steps"},"trajectory_output_format":{"anyOf":[{"$ref":"#/components/schemas/TrajectoryFormats"},{"type":"null"}],"description":"e.g., 'dcd'"}},"type":"object","title":"JobCreateParams"},"MembraneModels":{"type":"string","enum":["NONE","POPC","POPE","DLPC","DLPE","DMPC","DOPC","DPPC"],"title":"MembraneModels"},"ProductionParams":{"properties":{"traj_freq":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Traj Freq","description":"Trajectory write frequency (steps)"},"time":{"anyOf":[{"type":"number","minimum":0.0},{"type":"null"}],"title":"Time","description":"Production simulation time (ns)"},"log_freq":{"anyOf":[{"type":"integer","minimum":0.0},{"type":"null"}],"title":"Log Freq","description":"Log write frequency (steps)"},"type":{"anyOf":[{"$ref":"#/components/schemas/Ensembles"},{"type":"null"}],"description":"Ensemble type, e.g., 'NPT'"}},"type":"object","title":"ProductionParams"},"SolventIons":{"type":"string","enum":["NaCl","KCl"],"title":"SolventIons"},"TrajectoryFormats":{"type":"string","enum":["dcd"],"title":"TrajectoryFormats"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"}}}}